{
  "id" : 21004,
  "taskType" : "WQ",
  "luaPath" : "Actor/Quest/IQ21004",
  "rewardIdList" : [ 121004 ],
  "subQuests" : [ {
    "subId" : 2100401,
    "mainId" : 21004,
    "order" : 1,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2102214, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100401 ]
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_NPC",
      "param" : [ "2211" ],
      "guideScene" : 3,
      "guideStyle" : "QUEST_GUIDE_STYLE_POINT",
      "guideLayer" : "QUEST_GUIDE_LAYER_SCENE"
    },
    "sharedNpcList" : [ 2211 ]
  }, {
    "subId" : 2100402,
    "mainId" : 21004,
    "order" : 2,
    "showType" : "QUEST_HIDDEN",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 99902, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100402 ]
    } ]
  }, {
    "subId" : 2100480,
    "mainId" : 21004,
    "order" : 3,
    "showType" : "QUEST_HIDDEN",
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "whitout_quest",
      "count" : 1
    } ],
    "failCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100401 ]
    } ],
    "isRewind" : true
  }, {
    "subId" : 2100481,
    "mainId" : 21004,
    "order" : 4,
    "showType" : "QUEST_HIDDEN",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100480, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100481 ]
    } ],
    "failCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100401 ]
    } ],
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ROLLBACK_QUEST",
      "param" : [ "2100480" ]
    }, {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ],
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ]
  }, {
    "subId" : 2100403,
    "mainId" : 21004,
    "order" : 5,
    "showType" : "QUEST_HIDDEN",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_ADD_QUEST_PROGRESS",
      "param" : [ 210040301 ],
      "count" : 4
    } ],
    "isRewind" : true,
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "2100414", "1" ]
    } ],
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ]
  }, {
    "subId" : 2100410,
    "mainId" : 21004,
    "order" : 10,
    "subQuestGroup" : 1,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "133104053_progress1",
      "count" : 1
    } ],
    "isRewind" : true,
    "gainItems" : [ {
      "id" : 100444,
      "count" : 1
    } ],
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "210040301", "1" ]
    } ]
  }, {
    "subId" : 2100411,
    "mainId" : 21004,
    "order" : 11,
    "subQuestGroup" : 1,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "133104053_progress2",
      "count" : 1
    } ],
    "isRewind" : true,
    "gainItems" : [ {
      "id" : 100445,
      "count" : 1
    } ],
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "210040301", "1" ]
    } ]
  }, {
    "subId" : 2100412,
    "mainId" : 21004,
    "order" : 12,
    "subQuestGroup" : 1,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "133104053_progress3",
      "count" : 1
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_LOCATION",
      "param" : [ "Q21004_ClueWind", "40" ],
      "guideScene" : 3
    },
    "isRewind" : true,
    "gainItems" : [ {
      "id" : 100442,
      "count" : 1
    } ],
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "210040301", "1" ]
    } ]
  }, {
    "subId" : 2100413,
    "mainId" : 21004,
    "order" : 13,
    "subQuestGroup" : 1,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "133104053_progress4",
      "count" : 1
    } ],
    "isRewind" : true,
    "gainItems" : [ {
      "id" : 100443,
      "count" : 1
    } ],
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "210040301", "1" ]
    } ]
  }, {
    "subId" : 2100414,
    "mainId" : 21004,
    "order" : 14,
    "showType" : "QUEST_HIDDEN",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100401, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_ADD_QUEST_PROGRESS",
      "param" : [ 2100414 ],
      "count" : 1
    } ],
    "isRewind" : true,
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ]
  }, {
    "subId" : 2100420,
    "mainId" : 21004,
    "order" : 20,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100403, 3 ]
    } ],
    "finishCondComb" : "LOGIC_OR",
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100420 ]
    }, {
      "type" : "QUEST_CONTENT_ADD_QUEST_PROGRESS",
      "param" : [ 210042001 ],
      "count" : 1
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_NPC",
      "param" : [ "2211" ],
      "guideScene" : 3,
      "guideStyle" : "QUEST_GUIDE_STYLE_POINT",
      "guideLayer" : "QUEST_GUIDE_LAYER_SCENE"
    },
    "isRewind" : true,
    "finishExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ],
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ],
    "sharedNpcList" : [ 2211 ]
  }, {
    "subId" : 2100421,
    "mainId" : 21004,
    "order" : 21,
    "showType" : "QUEST_HIDDEN",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100403, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "find_secret",
      "count" : 1
    } ],
    "isRewind" : true,
    "finishExec" : [ {
      "type" : "QUEST_EXEC_ADD_QUEST_PROGRESS",
      "param" : [ "210042001", "1" ]
    } ]
  }, {
    "subId" : 2100422,
    "mainId" : 21004,
    "order" : 22,
    "showType" : "QUEST_SHOW",
    "acceptCondComb" : "LOGIC_AND",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100420, 3 ]
    }, {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100421, 2 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "find_secret",
      "count" : 1
    } ],
    "isRewind" : true
  }, {
    "subId" : 2100430,
    "mainId" : 21004,
    "order" : 30,
    "showType" : "QUEST_SHOW",
    "acceptCondComb" : "LOGIC_OR",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100421, 3 ]
    }, {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100422, 3 ]
    } ],
    "finishCondComb" : "LOGIC_OR",
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "active_gurdian",
      "count" : 1
    }, {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "any_gurdian_die",
      "count" : 1
    } ],
    "isRewind" : true,
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ]
  }, {
    "subId" : 2100431,
    "mainId" : 21004,
    "order" : 31,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100430, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "defeat_gurdian",
      "count" : 1
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_LOCATION",
      "param" : [ "Q21004_GurdianArea", "60" ],
      "guideScene" : 3
    },
    "isRewind" : true
  }, {
    "subId" : 2100432,
    "mainId" : 21004,
    "order" : 32,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100431, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "unlock_dungeon",
      "count" : 1
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_LOCATION",
      "param" : [ "Q21004_Center" ],
      "guideScene" : 3
    },
    "isRewind" : true,
    "beginExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    } ]
  }, {
    "subId" : 2100440,
    "mainId" : 21004,
    "order" : 40,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100432, 3 ]
    } ],
    "finishCondComb" : "LOGIC_OR",
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_LUA_NOTIFY",
      "paramString" : "get_reward",
      "count" : 1
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_LOCATION",
      "param" : [ "Q21004_TreasureBox", "30" ],
      "guideScene" : 3
    },
    "isRewind" : true
  }, {
    "subId" : 2100450,
    "mainId" : 21004,
    "order" : 50,
    "showType" : "QUEST_SHOW",
    "acceptCond" : [ {
      "type" : "QUEST_COND_STATE_EQUAL",
      "param" : [ 2100440, 3 ]
    } ],
    "finishCond" : [ {
      "type" : "QUEST_CONTENT_COMPLETE_TALK",
      "param" : [ 2100450 ]
    } ],
    "guide" : {
      "type" : "QUEST_GUIDE_NPC",
      "param" : [ "2211" ],
      "guideScene" : 3,
      "guideStyle" : "QUEST_GUIDE_STYLE_FINISH",
      "guideLayer" : "QUEST_GUIDE_LAYER_SCENE"
    },
    "finishParent" : true,
    "isRewind" : true,
    "finishExec" : [ {
      "type" : "QUEST_EXEC_NOTIFY_GROUP_LUA",
      "param" : [ "3", "133104053" ]
    }, {
      "type" : "QUEST_EXEC_DEL_ALL_SPECIFIC_PACK_ITEM",
      "param" : [ "100442,100443,100444,100445" ]
    } ],
    "sharedNpcList" : [ 2211 ]
  } ]
}